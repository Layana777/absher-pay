# ๐ฑ ุฏููู ูุธุงู ุงูุจุตูุฉ ุงููุงูู - Absher Pay

## ๐ ุฌุฏูู ุงููุญุชููุงุช
1. [ูุธุฑุฉ ุนุงูุฉ](#ูุธุฑุฉ-ุนุงูุฉ)
2. [ููู ูุนูู ุงููุธุงู](#ููู-ูุนูู-ุงููุธุงู)
3. [ุงููููุงุช ุงููุนุฏูุฉ](#ุงููููุงุช-ุงููุนุฏูุฉ)
4. [ุฏุนู iOS](#ุฏุนู-ios)
5. [ุฏุนู Android](#ุฏุนู-android)
6. [ุณููุงุฑูููุงุช ุงูุงุณุชุฎุฏุงู](#ุณููุงุฑูููุงุช-ุงูุงุณุชุฎุฏุงู)
7. [ุฏููู ุงูุงุฎุชุจุงุฑ](#ุฏููู-ุงูุงุฎุชุจุงุฑ)
8. [ุญู ุงููุดุงูู](#ุญู-ุงููุดุงูู)
9. [ุงูุฃูุงู](#ุงูุฃูุงู)

---

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ุงูุจุตูุฉ ูู Absher Pay ูุชูุญ ูููุณุชุฎุฏููู ุชุณุฌูู ุงูุฏุฎูู ุจุณุฑุนุฉ ูุฃูุงู ุจุงุณุชุฎุฏุงู:
- **iOS**: Face ID ุฃู Touch ID
- **Android**: ุจุตูุฉ ุงูุฅุตุจุน (Fingerprint)

### โ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ
- โ ุฏุนู ูุงูู ูู iOS ู Android
- โ ุชุดููุฑ ุจูุงูุงุช ุงููุณุชุฎุฏู ุจุงุณุชุฎุฏุงู SecureStore
- โ ุชูุงูู ูุงูู ูุน Firebase Realtime Database
- โ ุญุฐู ุจูุงูุงุช ุงูุจุตูุฉ ุนูุฏ ุชุณุฌูู ุงูุฎุฑูุฌ
- โ ุทูุจ ุชูุนูู ุงูุจุตูุฉ ุจุนุฏ OTP (ูุฑุฉ ูุงุญุฏุฉ ููุท)
- โ ุฑุณุงุฆู ุฎุทุฃ ููุตูุฉ ุจุงูุนุฑุจูุฉ
- โ ุฏุนู RTL (ูู ุงููููู ูููุณุงุฑ)

### ๐ฆ ุงูููุชุจุงุช ุงููุณุชุฎุฏูุฉ
```json
{
  "expo-local-authentication": "~17.0.8",
  "expo-secure-store": "~15.0.8",
  "@react-native-async-storage/async-storage": "^2.2.0"
}
```

---

## ๐ ููู ูุนูู ุงููุธุงู

### 1๏ธโฃ ุงููุณุชุฎุฏู ุงูุฌุฏูุฏ (ุฃูู ูุฑุฉ)

```
๐ฑ ูุชุญ ุงูุชุทุจูู
    โ
๐ ุฅุฏุฎุงู ุฑูู ุงููููุฉ/ุงูุณุฌู ุงูุชุฌุงุฑู + ุฑูู ุงูุฌูุงู
    โ
๐ฒ ุฅุฏุฎุงู ุฑูุฒ OTP
    โ
โ ุชุญูู OTP ูุงุฌุญ
    โ
๐ข ุธููุฑ ูุงูุฐุฉ: "ูู ุชุฑูุฏ ุชูุนูู ุงูุจุตูุฉุ"
    โ
    โโโ โ ููุงูู โ ุญูุธ ุงูุจุตูุฉ โ ุงูุฏุฎูู ููุชุทุจูู
    โ
    โโโ โ ูุงุญูุงู โ ุงูุฏุฎูู ููุชุทุจูู (ุจุฏูู ุจุตูุฉ)
```

### 2๏ธโฃ ุงููุณุชุฎุฏู ุงููุณุฌู (ูุฏูู ุจุตูุฉ)

```
๐ฑ ูุชุญ ุงูุชุทุจูู
    โ
๐ ุงูุถุบุท ุนูู ุฒุฑ "ุชุณุฌูู ุงูุฏุฎูู ุจุงูุจุตูุฉ"
    โ
๐ ุงูุชุญูู ูู ุงูุจุตูุฉ (Face ID / Touch ID / Fingerprint)
    โ
โ ุจุตูุฉ ุตุญูุญุฉ
    โ
๐ ุฌูุจ ุจูุงูุงุช ุงููุณุชุฎุฏู ูู Firebase
    โ
๐ ุงูุฏุฎูู ูุจุงุดุฑุฉ ููุตูุญุฉ ุงูุฑุฆูุณูุฉ
```

### 3๏ธโฃ ุชุณุฌูู ุงูุฎุฑูุฌ

```
๐ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
    โ
๐ ุงูุถุบุท ุนูู ุฒุฑ ุงูุฅุดุนุงุฑุงุช (ูุคูุชุงู ููุฎุฑูุฌ)
    โ
โ๏ธ ุชุฃููุฏ: "ูู ุฃูุช ูุชุฃูุฏ ูู ุชุณุฌูู ุงูุฎุฑูุฌุ"
    โ
โ ุชุฃููุฏ
    โ
๐ ุญุฐู ุจูุงูุงุช ุงูุจุตูุฉ ูู SecureStore
    โ
๐๏ธ ุญุฐู ุจูุงูุงุช Redux (ุงููุณุชุฎุฏู + ุงููุญุงูุธ)
    โ
๐๏ธ ุญุฐู ุจูุงูุงุช AsyncStorage (authToken + userType)
    โ
๐ ุงูุนูุฏุฉ ูุดุงุดุฉ ุชุณุฌูู ุงูุฏุฎูู
```

**โ๏ธ ููู ุฌุฏุงู**: ุจุนุฏ ุงูุฎุฑูุฌุ ุฒุฑ "ุชุณุฌูู ุงูุฏุฎูู ุจุงูุจุตูุฉ" ูู ูุธูุฑ ุฃู ูู ูุนูู!

---

## ๐ ุงููููุงุช ุงููุนุฏูุฉ

### 1. BiometricService.js
**ุงููุณุงุฑ**: `src/common/services/BiometricService.js`

**ุงููุธููุฉ ุงูุฑุฆูุณูุฉ**: ุฎุฏูุฉ ูุฑูุฒูุฉ ูุฅุฏุงุฑุฉ ุฌููุน ุนูููุงุช ุงูุจุตูุฉ

#### ุงูุฏูุงู ุงูุฑุฆูุณูุฉ:

```javascript
// 1. ุงูุชุญูู ูู ุชููุฑ ุงูุจุตูุฉ
async isAvailable()
// ุงูุนุงุฆุฏ: { isAvailable: true/false, biometricType: 'FACE_ID'/'FINGERPRINT'/etc }

// 2. ุงูุชุญูู ูู ูููุฉ ุงููุณุชุฎุฏู
async authenticate(promptMessage)
// ุงูุนุงุฆุฏ: { success: true/false, message: 'ุฑุณุงูุฉ ุจุงูุนุฑุจูุฉ' }

// 3. ุญูุธ ุจูุงูุงุช ุงูุจุตูุฉ
async saveBiometricCredentials(uid, userType, identifier)
// ุงูุนุงุฆุฏ: { success: true/false }

// 4. ุชุณุฌูู ุงูุฏุฎูู ุจุงูุจุตูุฉ
async loginWithBiometric()
// ุงูุนุงุฆุฏ: { success: true/false, userData: {...} }

// 5. ุทูุจ ุชูุนูู ุงูุจุตูุฉ (ูุฑุฉ ูุงุญุฏุฉ ููุท)
async promptEnableBiometric(uid, userType)
// ุงูุนุงุฆุฏ: { shouldPrompt: true/false, biometricType: 'ุจุตูุฉ ุงููุฌู' }

// 6. ุญุฐู ุจูุงูุงุช ุงูุจุตูุฉ (ุนูุฏ ุงูุฎุฑูุฌ)
async disableBiometric()
// ุงูุนุงุฆุฏ: { success: true }
```

#### ุฅุนุฏุงุฏุงุช iOS ุงูุฎุงุตุฉ:

```javascript
// ุฎูุงุฑุงุช SecureStore ูู iOS
const SECURE_STORE_OPTIONS = Platform.OS === 'ios' ? {
  keychainAccessible: SecureStore.WHEN_UNLOCKED
} : {};

// ุฎูุงุฑุงุช ุงูุชุญูู ูู iOS
const options = Platform.OS === 'ios' ? {
  promptMessage,
  fallbackLabel: 'ุงุณุชุฎุฏุงู ูููุฉ ุงููุฑูุฑ',
  cancelLabel: 'ุฅูุบุงุก',
  disableDeviceFallback: false,
  requireConfirmation: false  // โก ูุฌุนู Face ID ุฃุณุฑุน!
} : {
  // ุฎูุงุฑุงุช Android
};
```

---

### 2. OtpBusinessScreen.js
**ุงููุณุงุฑ**: `src/auth/screens/OtpBusinessScreen.js`

**ุงูุชุนุฏููุงุช**:
- โ ุฅุถุงูุฉ `BiometricService` ู `BiometricPromptDialog`
- โ ุฅุถุงูุฉ state ููุชุญูู ูู ูุงูุฐุฉ ุงูุจุตูุฉ
- โ ุจุนุฏ ูุฌุงุญ OTP: ุนุฑุถ ูุงูุฐุฉ ุชูุนูู ุงูุจุตูุฉ ูููุณุชุฎุฏู ุงูุฌุฏูุฏ
- โ ุนุฏู ุฅุนุงุฏุฉ ุทูุจ ุงูุจุตูุฉ ูููุณุชุฎุฏู ุงูุฐู ูุนูููุง ุณุงุจูุงู

#### ุงูููุฏ ุงููุถุงู:

```javascript
// State
const [showBiometricPrompt, setShowBiometricPrompt] = useState(false);
const [biometricType, setBiometricType] = useState("ุจุตูุฉ");

// ุจุนุฏ ูุฌุงุญ OTP
if (!fromBiometric) {
  const promptResult = await BiometricService.promptEnableBiometric(uid, "business");
  if (promptResult.shouldPrompt) {
    setBiometricType(promptResult.biometricType);
    setShowBiometricPrompt(true);
    return; // ูุง ููุชูู ุชููุงุฆูุงู
  }
}

// ูููู ุงููุงูุฐุฉ
<BiometricPromptDialog
  visible={showBiometricPrompt}
  biometricType={biometricType}
  onAccept={handleEnableBiometric}
  onReject={handleRejectBiometric}
  variant="business"
/>
```

---

### 3. OtpSingleScreen.js
**ุงููุณุงุฑ**: `src/auth/screens/OtpSingleScreen.js`

**ุงูุชุนุฏููุงุช**: ููุณ ุงูุชุนุฏููุงุช ูู `OtpBusinessScreen.js` ูููู ูุน `variant="single"`

---

### 4. BusinessLoginScreen.js
**ุงููุณุงุฑ**: `src/auth/screens/BusinessLoginScreen.js`

**ุงูุชุนุฏููุงุช**:
- โ ุญุฐู ูุงูุฐุฉ ุทูุจ ุงูุจุตูุฉ ูู ุดุงุดุฉ Login
- โ ุงูุงุญุชูุงุธ ุจุฒุฑ "ุชุณุฌูู ุงูุฏุฎูู ุจุงูุจุตูุฉ" ูููุณุชุฎุฏููู ุงููุณุฌููู
- โ ุงูุงูุชูุงู ูุจุงุดุฑุฉ ูู OTP ุจุนุฏ ุฅุฏุฎุงู ุงูุจูุงูุงุช

---

### 5. SingleLoginScreen.js
**ุงููุณุงุฑ**: `src/auth/screens/SingleLoginScreen.js`

**ุงูุชุนุฏููุงุช**: ููุณ ุงูุชุนุฏููุงุช ูู `BusinessLoginScreen.js`

---

### 6. BusinessHomeScreen.js โญ
**ุงููุณุงุฑ**: `src/business/screens/Dashboard/BusinessHomeScreen.js`

**ุงูุชุนุฏููุงุช ุงููููุฉ**:
- โ ุฅุถุงูุฉ `import { BiometricService }`
- โ ุชุญุฏูุซ `handleLogout` ูุญุฐู ุจูุงูุงุช ุงูุจุตูุฉ

#### ุงูููุฏ ุงููุญุฏุซ:

```javascript
import { BiometricService } from "../../../common/services";

const handleLogout = () => {
  Alert.alert(
    "ุชุณุฌูู ุงูุฎุฑูุฌ",
    "ูู ุฃูุช ูุชุฃูุฏ ูู ุชุณุฌูู ุงูุฎุฑูุฌุ",
    [
      {
        text: "ุชุณุฌูู ุงูุฎุฑูุฌ",
        style: "destructive",
        onPress: async () => {
          try {
            // 1๏ธโฃ ุญุฐู ุจูุงูุงุช ุงูุจุตูุฉ ุฃููุงู (ุงูุฃูู ููุฃูุงู!)
            console.log("๐ Clearing biometric data...");
            await BiometricService.disableBiometric();
            console.log("โ Biometric data cleared");

            // 2๏ธโฃ ุญุฐู Redux state
            dispatch(clearUser());
            dispatch(clearWallets());

            // 3๏ธโฃ ุญุฐู AsyncStorage
            await AsyncStorage.removeItem("authToken");
            await AsyncStorage.removeItem("userType");

            console.log("โ User logged out successfully - all data cleared");
          } catch (error) {
            console.error("โ Logout error:", error);
            Alert.alert("ุฎุทุฃ", "ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุชุณุฌูู ุงูุฎุฑูุฌ");
          }
        },
      },
    ]
  );
};
```

---

### 7. SingleHomeScreen.js โญ
**ุงููุณุงุฑ**: `src/single/screens/Dashboard/SingleHomeScreen.js`

**ุงูุชุนุฏููุงุช**: ููุณ ุงูุชุนุฏููุงุช ูู `BusinessHomeScreen.js`

---

### 8. app.json
**ุงููุณุงุฑ**: `app.json`

**ุฅุนุฏุงุฏุงุช iOS**:

```json
{
  "expo": {
    "ios": {
      "supportsTablet": true,
      "infoPlist": {
        "NSFaceIDUsageDescription": "ูุญุชุงุฌ ุฅูู ุตูุงุญูุฉ ุงููุตูู ุฅูู Face ID ุฃู Touch ID ูุชููููู ูู ุชุณุฌูู ุงูุฏุฎูู ุงูุณุฑูุน ูุงูุขูู ุฅูู ุงูุชุทุจูู"
      }
    },
    "android": {
      "supportsRtl": true,
      "permissions": [
        "USE_BIOMETRIC",
        "USE_FINGERPRINT"
      ]
    },
    "plugins": [
      [
        "expo-local-authentication",
        {
          "faceIDPermission": "ุงูุณูุงุญ ูุชุทุจูู ูุญูุธุฉ ุฃุจุดุฑ ุจุงุณุชุฎุฏุงู Face ID ุฃู Touch ID ูุชุณุฌูู ุงูุฏุฎูู ุงูุขูู"
        }
      ],
      "expo-secure-store"
    ]
  }
}
```

---

## ๐ ุฏุนู iOS

### ุงูุฅุนุฏุงุฏุงุช ุงูุฎุงุตุฉ ุจู iOS:

1. **SecureStore Options**:
```javascript
const SECURE_STORE_OPTIONS = {
  keychainAccessible: SecureStore.WHEN_UNLOCKED
};
```
**ุงูุณุจุจ**: iOS ูุญุชุงุฌ ุชุญุฏูุฏ ูุชู ูููู ุงููุตูู ููู Keychain

2. **requireConfirmation: false**:
```javascript
const options = {
  requireConfirmation: false  // ูุฌุนู Face ID ุฃุณุฑุน
};
```
**ุงูุณุจุจ**: ุจุฏูู ูุฐุงุ Face ID ูุทูุจ ุชุฃููุฏ ุฅุถุงูู ููุตุจุญ ุจุทูุก

3. **Logging ููุตู**:
```javascript
console.log('๐ ุจุฏุก ุงูุชุญูู ูู ุงูุจุตูุฉ ุนูู', Platform.OS);
console.log('โ ูุชูุฌุฉ ุงูุชุญูู:', result);
```
**ุงูุณุจุจ**: ูุชุณููู ุชุชุจุน ุงููุดุงูู ุนูู iOS

### โ๏ธ ูููุฏ iOS ุงููููุฉ:

#### ุฑุณุงุฆู Face ID ุจุงูุฅูุฌููุฒูุฉ ููุท

**ุงูุญูููุฉ**: Apple ูุง ุชุณูุญ ุจุชุนุฑูุจ ุฑุณุงุฆู Face ID ุงููุฏูุฌุฉ ูู ุงููุธุงู.

**ุงูุฑุณุงุฆู ุงูุชู ูุง ูููู ุชุนุฑูุจูุง**:
- โ "Face Not Recognized"
- โ "Try Again"
- โ "Cancel"

**ูุง ูููู ุชุนุฑูุจู**:
- โ ุงูุฑุณุงูุฉ ุงูุฑุฆูุณูุฉ (`promptMessage`)
- โ ุฑุณุงุฆู ูุจู/ุจุนุฏ Face ID
- โ ููุงูุฐ ุงูุชุทุจูู

**ุฃูุซูุฉ ูู ุชุทุจููุงุช ุญููููุฉ**:
- ุชุทุจูู ุงูุฑุงุฌุญู: Face ID ุจุงูุฅูุฌููุฒูุฉ โ
- ุชุทุจูู stc pay: Face ID ุจุงูุฅูุฌููุฒูุฉ โ
- ุชุทุจูู ุฃุจุดุฑ ุงูุฑุณูู: Face ID ุจุงูุฅูุฌููุฒูุฉ โ

**ุงูุฎูุงุตุฉ**: ูุฐุง ููุณ ุฎุทุฃ - ูุฐุง ุชุตููู iOS ุงูุทุจูุนู! ๐

ููุฒูุฏ ูู ุงูุชูุงุตููุ ุฑุงุฌุน: [FACEID_ARABIC_SOLUTION.md](./FACEID_ARABIC_SOLUTION.md)

---

## ๐ค ุฏุนู Android

### ุงูุฅุนุฏุงุฏุงุช ูู app.json:

```json
{
  "android": {
    "supportsRtl": true,
    "permissions": [
      "USE_BIOMETRIC",
      "USE_FINGERPRINT"
    ]
  }
}
```

### ุงูููุฒุงุช ุนูู Android:

- โ ุฑุณุงุฆู ุงูุจุตูุฉ ูููู ุชุนุฑูุจูุง ุจุงููุงูู
- โ ุฏุนู RTL ูุฏูุฌ
- โ ุจุตูุฉ ุงูุฅุตุจุน (Fingerprint)
- โ ุงูุชุนุฑู ุนูู ุงููุฌู (ูู ุจุนุถ ุงูุฃุฌูุฒุฉ)

---

## ๐ฌ ุณููุงุฑูููุงุช ุงูุงุณุชุฎุฏุงู

### ุงูุณููุงุฑูู 1: ูุณุชุฎุฏู ุฌุฏูุฏ - ููุนูู ุงูุจุตูุฉ

```
1. ๐ฑ ููุชุญ ุงูุชุทุจูู ูุฃูู ูุฑุฉ
2. ๐ ูุฏุฎู ุฑูู ุงููููุฉ + ุฑูู ุงูุฌูุงู
3. ๐ฒ ูุฏุฎู ุฑูุฒ OTP
4. โ OTP ุตุญูุญ
5. ๐ข ุชุธูุฑ ูุงูุฐุฉ: "ูู ุชุฑูุฏ ุชูุนูู ุจุตูุฉ ุงููุฌูุ"
6. ๐ ูุถุบุท "ุชูุนูู"
7. ๐ ูุทูุจ Face ID/Fingerprint ููุชุญูู
8. โ ุงูุจุตูุฉ ุตุญูุญุฉ
9. ๐พ ูุชู ุญูุธ UID + userType ูู SecureStore
10. ๐ ููุชูู ููุตูุญุฉ ุงูุฑุฆูุณูุฉ
```

**ุงููุชูุฌุฉ**: ูู ุงููุฑุฉ ุงููุงุฏูุฉุ ููููู ุงูุฏุฎูู ุจุงูุจุตูุฉ ูุจุงุดุฑุฉ!

---

### ุงูุณููุงุฑูู 2: ูุณุชุฎุฏู ุฌุฏูุฏ - ูุฑูุถ ุงูุจุตูุฉ

```
1-4. [ููุณ ุงูุฎุทูุงุช ุฃุนูุงู]
5. ๐ข ุชุธูุฑ ูุงูุฐุฉ: "ูู ุชุฑูุฏ ุชูุนูู ุจุตูุฉ ุงููุฌูุ"
6. ๐ ูุถุบุท "ูุงุญูุงู"
7. ๐ ููุชูู ููุตูุญุฉ ุงูุฑุฆูุณูุฉ (ุจุฏูู ุญูุธ ุจุตูุฉ)
```

**ุงููุชูุฌุฉ**: ูู ุงููุฑุฉ ุงููุงุฏูุฉุ ูุฌุจ ุนููู ุฅุฏุฎุงู OTP ูุฑุฉ ุฃุฎุฑู

---

### ุงูุณููุงุฑูู 3: ูุณุชุฎุฏู ูุณุฌู - ุฏุฎูู ุจุงูุจุตูุฉ

```
1. ๐ฑ ููุชุญ ุงูุชุทุจูู
2. ๐ ูุถุบุท "ุชุณุฌูู ุงูุฏุฎูู ุจุงูุจุตูุฉ"
3. ๐ ูุทูุจ Face ID/Fingerprint
4. โ ุงูุจุตูุฉ ุตุญูุญุฉ
5. ๐ฅ ุฌูุจ UID ูู SecureStore
6. ๐ฅ ุฌูุจ ุจูุงูุงุช ุงููุณุชุฎุฏู ูู Firebase
7. ๐พ ุญูุธ ุงูุจูุงูุงุช ูู Redux
8. ๐ ุงูุฏุฎูู ูุจุงุดุฑุฉ ููุตูุญุฉ ุงูุฑุฆูุณูุฉ
```

**ุงููุฏุฉ**: ุฃูู ูู 3 ุซูุงูู! โก

---

### ุงูุณููุงุฑูู 4: ุชุณุฌูู ุงูุฎุฑูุฌ

```
1. ๐ ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
2. ๐ ูุถุบุท ุนูู ุฒุฑ ุงูุฅุดุนุงุฑุงุช
3. โ๏ธ ุชุธูุฑ ูุงูุฐุฉ ุชุฃููุฏ
4. ๐ ูุถุบุท "ุชุณุฌูู ุงูุฎุฑูุฌ"
5. ๐ ุญุฐู ุจูุงูุงุช SecureStore (UID + userType)
6. ๐๏ธ ุญุฐู Redux state
7. ๐๏ธ ุญุฐู AsyncStorage
8. ๐ ุงูุนูุฏุฉ ูุดุงุดุฉ Login
```

**โ๏ธ ููู**: ูู ูุณุชุทูุน ุงูุฏุฎูู ุจุงูุจุตูุฉ ุจุนุฏ ุงูุฎุฑูุฌ!

---

### ุงูุณููุงุฑูู 5: ูุณุชุฎุฏู ุฎุฑุฌ ุซู ุฏุฎู ูุฑุฉ ุฃุฎุฑู

```
1. ๐ฑ ููุชุญ ุงูุชุทุจูู
2. โ ุฒุฑ "ุชุณุฌูู ุงูุฏุฎูู ุจุงูุจุตูุฉ" ูู ูุธูุฑ (ุฃู ูู ูุนูู)
3. ๐ ูุฏุฎู ุฑูู ุงููููุฉ + ุฑูู ุงูุฌูุงู
4. ๐ฒ ูุฏุฎู ุฑูุฒ OTP
5. โ OTP ุตุญูุญ
6. ๐ข ุชุธูุฑ ูุงูุฐุฉ: "ูู ุชุฑูุฏ ุชูุนูู ุงูุจุตูุฉุ" (ูุฑุฉ ุฃุฎุฑู)
7. [ููุณ ุงูุณููุงุฑูู 1 ุฃู 2]
```

**ุงูุณุจุจ**: ุชู ุญุฐู ุจูุงูุงุช ุงูุจุตูุฉ ุนูุฏ ุงูุฎุฑูุฌ ูุถูุงู ุงูุฃูุงู!

---

## ๐งช ุฏููู ุงูุงุฎุชุจุงุฑ

### ุงูุงุฎุชุจุงุฑ ุนูู iOS:

#### 1. ุงุฎุชุจุงุฑ Face ID ูู Simulator:

```bash
# ุชุดุบูู ุงููุญุงูู
npm run ios

# ูู Xcode Simulator:
Features โ Face ID โ Enrolled โ
```

#### 2. ูุญุงูุงุฉ ูุฌุงุญ Face ID:

```
Features โ Face ID โ Matching Face
```

#### 3. ูุญุงูุงุฉ ูุดู Face ID:

```
Features โ Face ID โ Non-matching Face
```

#### 4. ุงุฎุชุจุงุฑ SecureStore:

```javascript
// ุงูุชุญ React Native Debugger ูุงูุชุจ:
import * as SecureStore from 'expo-secure-store';

// ูุญุต ุงูุจูุงูุงุช ุงููุญููุธุฉ
await SecureStore.getItemAsync('USER_UID');
// ูุฌุจ ุฃู ูุนูุฏ UID ุฃู null

await SecureStore.getItemAsync('USER_TYPE');
// ูุฌุจ ุฃู ูุนูุฏ 'business' ุฃู 'single' ุฃู null
```

---

### ุงูุงุฎุชุจุงุฑ ุนูู Android:

#### 1. ุงุฎุชุจุงุฑ Fingerprint ูู Emulator:

```bash
# ุชุดุบูู ุงููุญุงูู
npm run android

# ูู Terminal:
adb -e emu finger touch 1
# ูุฐุง ูุญุงูู ููุณ ุจุตูุฉ ุงูุฅุตุจุน
```

#### 2. ุฅุนุฏุงุฏ ุงูุจุตูุฉ ูู Emulator:

```
Settings โ Security โ Fingerprint โ Add fingerprint
# ุซู ุงุณุชุฎุฏู: adb -e emu finger touch 1
```

---

### ุงุฎุชุจุงุฑุงุช ุดุงููุฉ:

#### Test Case 1: ูุณุชุฎุฏู ุฌุฏูุฏ - ูุจูู ุงูุจุตูุฉ โ

| ุงูุฎุทูุฉ | ุงูุฅุฌุฑุงุก | ุงููุชูุฌุฉ ุงููุชููุนุฉ |
|--------|---------|------------------|
| 1 | ูุชุญ ุงูุชุทุจูู | ุดุงุดุฉ Login ุชุธูุฑ |
| 2 | ุฅุฏุฎุงู ุจูุงูุงุช ุตุญูุญุฉ | ุงูุงูุชูุงู ูู OTP |
| 3 | ุฅุฏุฎุงู OTP ุตุญูุญ | ูุงูุฐุฉ "ูู ุชุฑูุฏ ุชูุนูู ุงูุจุตูุฉุ" |
| 4 | ุงูุถุบุท "ุชูุนูู" | ุทูุจ Face ID/Fingerprint |
| 5 | ุชุฃููุฏ ุงูุจุตูุฉ | "ุชู ุชูุนูู ุงูุจุตูุฉ ุจูุฌุงุญ" |
| 6 | ุงูุชุฃูุฏ ูู ุงูุญูุธ | ุงูุฏุฎูู ููุตูุญุฉ ุงูุฑุฆูุณูุฉ |

#### Test Case 2: ูุณุชุฎุฏู ุฌุฏูุฏ - ุฑูุถ ุงูุจุตูุฉ โ

| ุงูุฎุทูุฉ | ุงูุฅุฌุฑุงุก | ุงููุชูุฌุฉ ุงููุชููุนุฉ |
|--------|---------|------------------|
| 1-3 | [ููุณ ุงูุฎุทูุงุช ุฃุนูุงู] | ูุงูุฐุฉ "ูู ุชุฑูุฏ ุชูุนูู ุงูุจุตูุฉุ" |
| 4 | ุงูุถุบุท "ูุงุญูุงู" | ุงูุฏุฎูู ููุตูุญุฉ ุงูุฑุฆูุณูุฉ ูุจุงุดุฑุฉ |
| 5 | ุงูุฎุฑูุฌ ูุงูุฏุฎูู ูุฑุฉ ุฃุฎุฑู | ูุง ููุฌุฏ ุฎูุงุฑ "ุชุณุฌูู ุงูุฏุฎูู ุจุงูุจุตูุฉ" |

#### Test Case 3: ุฏุฎูู ุจุงูุจุตูุฉ โ

| ุงูุฎุทูุฉ | ุงูุฅุฌุฑุงุก | ุงููุชูุฌุฉ ุงููุชููุนุฉ |
|--------|---------|------------------|
| 1 | ูุชุญ ุงูุชุทุจูู (ูุณุชุฎุฏู ูุณุฌู) | ุฒุฑ "ุชุณุฌูู ุงูุฏุฎูู ุจุงูุจุตูุฉ" ูุธูุฑ |
| 2 | ุงูุถุบุท ุนูู ุงูุฒุฑ | ุทูุจ Face ID/Fingerprint |
| 3 | ุชุฃููุฏ ุงูุจุตูุฉ | "ุฌุงุฑู ุชุณุฌูู ุงูุฏุฎูู..." |
| 4 | ุงูุงูุชุธุงุฑ | ุฌูุจ ุจูุงูุงุช ูู Firebase |
| 5 | ุงูุชุฃูุฏ | ุงูุฏุฎูู ููุตูุญุฉ ุงูุฑุฆูุณูุฉ |

#### Test Case 4: ุชุณุฌูู ุงูุฎุฑูุฌ ๐ช

| ุงูุฎุทูุฉ | ุงูุฅุฌุฑุงุก | ุงููุชูุฌุฉ ุงููุชููุนุฉ |
|--------|---------|------------------|
| 1 | ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ | ุงูุถุบุท ุนูู ุฒุฑ ุงูุฅุดุนุงุฑุงุช |
| 2 | ุงูุถุบุท "ุชุณุฌูู ุงูุฎุฑูุฌ" | ูุงูุฐุฉ ุชุฃููุฏ |
| 3 | ุงูุถุบุท "ุชุณุฌูู ุงูุฎุฑูุฌ" | Console: "๐ Clearing biometric data..." |
| 4 | ุงูุชุฃูุฏ | Console: "โ Biometric data cleared" |
| 5 | ุงูุชุฃูุฏ | ุงูุนูุฏุฉ ูุดุงุดุฉ Login |
| 6 | ูุญุต SecureStore | `USER_UID` ู `USER_TYPE` = null |

#### Test Case 5: ุจุนุฏ ุงูุฎุฑูุฌ - ูุง ูููู ุงูุฏุฎูู ุจุงูุจุตูุฉ โ

| ุงูุฎุทูุฉ | ุงูุฅุฌุฑุงุก | ุงููุชูุฌุฉ ุงููุชููุนุฉ |
|--------|---------|------------------|
| 1 | ุจุนุฏ Logout | ูุชุญ ุงูุชุทุจูู ูุฑุฉ ุฃุฎุฑู |
| 2 | ุดุงุดุฉ Login | ุฒุฑ "ุชุณุฌูู ุงูุฏุฎูู ุจุงูุจุตูุฉ" ูุง ูุธูุฑ/ูุง ูุนูู |
| 3 | ุฅุฏุฎุงู ุงูุจูุงูุงุช | ุทูุจ OTP |
| 4 | ุฅุฏุฎุงู OTP | ูุงูุฐุฉ "ูู ุชุฑูุฏ ุชูุนูู ุงูุจุตูุฉุ" (ูุฑุฉ ุฃุฎุฑู) |

---

### ูุญุต Console Logs:

#### ุนูุฏ ุชูุนูู ุงูุจุตูุฉ:
```
โ ูุธุงู ุงูุจุตูุฉ ูุชุงุญ
โ ููุน ุงูุจุตูุฉ: FACE_ID
โ ุจุฏุก ุงูุชุญูู ูู ุงูุจุตูุฉ ุนูู ios
โ ูุชูุฌุฉ ุงูุชุญูู: { success: true }
โ ุชู ุญูุธ ุจูุงูุงุช ุงูุจุตูุฉ ุจูุฌุงุญ
```

#### ุนูุฏ ุงูุฏุฎูู ุจุงูุจุตูุฉ:
```
โ ุจุฏุก ุชุณุฌูู ุงูุฏุฎูู ุจุงูุจุตูุฉ
โ UID ูู SecureStore: abc123xyz
โ ููุน ุงููุณุชุฎุฏู: business
โ ุจูุงูุงุช ุงููุณุชุฎุฏู ูู Firebase: { name: "...", nationalId: "..." }
โ ุชุณุฌูู ุงูุฏุฎูู ุจุงูุจุตูุฉ ูุฌุญ
```

#### ุนูุฏ ุงูุฎุฑูุฌ:
```
๐ Clearing biometric data...
โ Biometric data cleared
โ User logged out successfully - all data cleared
```

---

## ๐ง ุญู ุงููุดุงูู

### ุงููุดููุฉ 1: "Biometric authentication is not available"

**ุงูุฃุนุฑุงุถ**: ุฑุณุงูุฉ ุฎุทุฃ "ุงูุจุตูุฉ ุบูุฑ ูุชุงุญุฉ ุนูู ูุฐุง ุงูุฌูุงุฒ"

**ุงูุฃุณุจุงุจ ุงููุญุชููุฉ**:
1. ุงูุฌูุงุฒ/ุงููุญุงูู ูุง ูุฏุนู ุงูุจุตูุฉ
2. ูู ูุชู ุชุณุฌูู ุจุตูุฉ ูู ุงูุฌูุงุฒ

**ุงูุญููู**:

**iOS Simulator**:
```
Xcode Simulator โ Features โ Face ID โ Enrolled โ
```

**Android Emulator**:
```bash
# ุฅุถุงูุฉ ุจุตูุฉ
Settings โ Security โ Fingerprint โ Add fingerprint
adb -e emu finger touch 1
```

**ุงูุฌูุงุฒ ุงูุญูููู**:
- ุชุฃูุฏ ูู ุชุณุฌูู Face ID/Fingerprint ูู ุฅุนุฏุงุฏุงุช ุงูุฌูุงุฒ

---

### ุงููุดููุฉ 2: SecureStore ูุง ูุญูุธ ุงูุจูุงูุงุช ุนูู iOS

**ุงูุฃุนุฑุงุถ**: ุจุนุฏ ุชูุนูู ุงูุจุตูุฉุ ูุง ูููู ุงูุฏุฎูู ุจูุง

**ุงูุณุจุจ**: ุนุฏู ุงุณุชุฎุฏุงู `SECURE_STORE_OPTIONS` ูุน iOS

**ุงูุญู**: ุชุฃูุฏ ูู ุงุณุชุฎุฏุงู ุงูุฎูุงุฑุงุช ุงูุตุญูุญุฉ:

```javascript
const SECURE_STORE_OPTIONS = Platform.OS === 'ios' ? {
  keychainAccessible: SecureStore.WHEN_UNLOCKED
} : {};

await SecureStore.setItemAsync(key, value, SECURE_STORE_OPTIONS);
```

**ุงูุชุญูู**:
```javascript
// ูู React Native Debugger
const uid = await SecureStore.getItemAsync('USER_UID', SECURE_STORE_OPTIONS);
console.log('UID:', uid); // ูุฌุจ ุฃู ูุง ูููู null
```

---

### ุงููุดููุฉ 3: Face ID ุจุทูุก ุนูู iOS

**ุงูุฃุนุฑุงุถ**: Face ID ูุฃุฎุฐ ููุช ุทููู (ุฃูุซุฑ ูู 3 ุซูุงู)

**ุงูุณุจุจ**: ุนุฏู ุงุณุชุฎุฏุงู `requireConfirmation: false`

**ุงูุญู**:
```javascript
const options = Platform.OS === 'ios' ? {
  promptMessage: 'ูุฑุฌู ุงูุชุญูู ูู ูููุชู',
  requireConfirmation: false  // โก ูุฐุง ููู!
} : { /* Android options */ };
```

---

### ุงููุดููุฉ 4: ุจุนุฏ Logoutุ ูุง ูุฒุงู ูููู ุงูุฏุฎูู ุจุงูุจุตูุฉ

**ุงูุฃุนุฑุงุถ**: ุจุนุฏ ุชุณุฌูู ุงูุฎุฑูุฌุ ุฒุฑ ุงูุจุตูุฉ ูุนูู ููุฏุฎู ููุชุทุจูู

**ุงูุณุจุจ**: ูู ูุชู ุงุณุชุฏุนุงุก `BiometricService.disableBiometric()` ูู `handleLogout`

**ุงูุญู**: ุชุฃูุฏ ูู ูุฌูุฏ ูุฐุง ุงูููุฏ ูู `handleLogout`:

```javascript
// ูู BusinessHomeScreen.js ู SingleHomeScreen.js
const handleLogout = () => {
  Alert.alert(
    "ุชุณุฌูู ุงูุฎุฑูุฌ",
    "ูู ุฃูุช ูุชุฃูุฏ ูู ุชุณุฌูู ุงูุฎุฑูุฌุ",
    [
      {
        text: "ุชุณุฌูู ุงูุฎุฑูุฌ",
        onPress: async () => {
          // โ ุงูุฃูู: ุญุฐู ุจูุงูุงุช ุงูุจุตูุฉ ุฃููุงู
          await BiometricService.disableBiometric();

          // ุซู ุจููุฉ ุงูููุฏ...
          dispatch(clearUser());
          dispatch(clearWallets());
          await AsyncStorage.removeItem("authToken");
          await AsyncStorage.removeItem("userType");
        },
      },
    ]
  );
};
```

**ุงูุชุญูู ูู ุงูุญุฐู**:
```javascript
// ูู React Native Debugger ุจุนุฏ Logout
const uid = await SecureStore.getItemAsync('USER_UID');
console.log('UID after logout:', uid); // ูุฌุจ ุฃู ูููู null
```

---

### ุงููุดููุฉ 5: Face ID ุฑุณุงุฆูู ุจุงูุฅูุฌููุฒูุฉ

**ุงูุฃุนุฑุงุถ**: ูุงูุฐุฉ Face ID ุชุธูุฑ ุฑุณุงุฆู:
- "Face Not Recognized"
- "Try Again"
- "Cancel"

**ูู ูุฐุง ุฎุทุฃุ**: โ ูุง! ูุฐุง ุทุจูุนู ุชูุงูุงู

**ุงูุณุจุจ**: Apple ูุง ุชุณูุญ ุจุชุนุฑูุจ ุฑุณุงุฆู Face ID ุงููุฏูุฌุฉ

**ุงูุญู**: ูุง ููุฌุฏ ุญู - ูุฐุง ุชุตููู iOS

**ููุงุญุธุฉ**: ุฌููุน ุงูุชุทุจููุงุช (ุญุชู ุงูุจููู ุงูุณุนูุฏูุฉ ุงููุจุฑู) ุชุณุชุฎุฏู Face ID ุจุงูุฅูุฌููุฒูุฉ

**ูููุฒูุฏ**: ุฑุงุฌุน [FACEID_ARABIC_SOLUTION.md](./FACEID_ARABIC_SOLUTION.md)

---

### ุงููุดููุฉ 6: Firebase ูุง ูุฌูุจ ุจูุงูุงุช ุงููุณุชุฎุฏู

**ุงูุฃุนุฑุงุถ**: ุจุนุฏ ูุฌุงุญ ุงูุจุตูุฉุ ุฑุณุงูุฉ "ูุดู ุฌูุจ ุจูุงูุงุช ุงููุณุชุฎุฏู"

**ุงูุฃุณุจุงุจ ุงููุญุชููุฉ**:
1. UID ุงููุญููุธ ุบูุฑ ุตุญูุญ
2. ุงููุณุชุฎุฏู ุบูุฑ ููุฌูุฏ ูู Firebase
3. ูุดููุฉ ูู ุงุชุตุงู ุงูุฅูุชุฑูุช

**ุงูุญู 1**: ุชุญูู ูู UID ุงููุญููุธ:
```javascript
const uid = await SecureStore.getItemAsync('USER_UID');
console.log('UID:', uid);
// ูุฌุจ ุฃู ูููู ูุซู: "business_1234567890" ุฃู "single_1234567890"
```

**ุงูุญู 2**: ุชุญูู ูู ูุฌูุฏ ุงููุณุชุฎุฏู ูู Firebase:
```javascript
import { getUserByUid } from './path/to/firebaseService';

const result = await getUserByUid(uid);
console.log('User from Firebase:', result);
// ูุฌุจ ุฃู ูุนูุฏ: { success: true, user: {...} }
```

**ุงูุญู 3**: ุชุญูู ูู ุงูุงุชุตุงู:
```javascript
// ูู BiometricService.loginWithBiometric()
console.log('๐ฅ ุฌูุจ ุจูุงูุงุช ุงููุณุชุฎุฏู ูู Firebase...');
console.log('UID:', uid);
console.log('Result:', result);
```

---

### ุงููุดููุฉ 7: ูุงูุฐุฉ "ูู ุชุฑูุฏ ุชูุนูู ุงูุจุตูุฉุ" ุชุธูุฑ ูู ูุฑุฉ

**ุงูุฃุนุฑุงุถ**: ุญุชู ุจุนุฏ ุชูุนูู ุงูุจุตูุฉุ ุงููุงูุฐุฉ ุชุธูุฑ ูู ูู ูุฑุฉ

**ุงูุณุจุจ**: ูู ูุชู ุญูุธ `BIOMETRIC_PROMPTED_` ูู AsyncStorage

**ุงูุญู**: ุชุฃูุฏ ูู ุงุณุชุฏุนุงุก `saveBiometricCredentials` ุจุนุฏ ูุจูู ุงููุณุชุฎุฏู:

```javascript
// ูู OtpBusinessScreen.js
const handleEnableBiometric = async () => {
  const result = await BiometricService.saveBiometricCredentials(
    uid,
    "business",
    nationalId
  );

  if (result.success) {
    Alert.alert("ุชู ุจูุฌุงุญ", "ุชู ุชูุนูู ุงูุจุตูุฉ ุจูุฌุงุญ");
    // โ ุณูุชู ุญูุธ BIOMETRIC_PROMPTED_ ุชููุงุฆูุงู
  }
};
```

**ุงูุชุญูู**:
```javascript
// ูู React Native Debugger
const prompted = await AsyncStorage.getItem('BIOMETRIC_PROMPTED_business_1234567890');
console.log('Prompted:', prompted); // ูุฌุจ ุฃู ูููู 'true'
```

---

## ๐ ุงูุฃูุงู

### 1. ุงูุชุดููุฑ

#### SecureStore:
- โ ูุณุชุฎุฏู iOS Keychain (AES-256)
- โ ูุณุชุฎุฏู Android Keystore System
- โ ุงูุจูุงูุงุช ูุดูุฑุฉ ุนูู ูุณุชูู ุงูุฌูุงุฒ
- โ ูุง ูููู ุงููุตูู ุฅูููุง ุจุฏูู ุงูุจุตูุฉ

#### ุงูุจูุงูุงุช ุงููุญููุธุฉ:
```javascript
// ูู SecureStore (ูุดูุฑ)
USER_UID: "business_1234567890"
USER_TYPE: "business"

// ูู AsyncStorage (ุบูุฑ ูุดูุฑ - ูุนูููุงุช ุนุงูุฉ ููุท)
BIOMETRIC_PROMPTED_business_1234567890: "true"
authToken: "token123"
userType: "business"
```

---

### 2. ุญุฐู ุงูุจูุงูุงุช ุนูุฏ ุงูุฎุฑูุฌ

**ุงูุฃูููุฉ**: ๐ด ุญุฑุฌุฉ ููุฃูุงู!

**ูุง ูุชู ุญุฐูู**:
1. โ SecureStore (UID + userType) - ุงูุฃูู
2. โ Redux State (user + wallets)
3. โ AsyncStorage (authToken + userType)

**ุชุฑุชูุจ ุงูุญุฐู** (ููู ุฌุฏุงู):
```javascript
// 1๏ธโฃ SecureStore ุฃููุงู (ุงูุฃูู ููุฃูุงู)
await BiometricService.disableBiometric();

// 2๏ธโฃ Redux ุซุงููุงู
dispatch(clearUser());
dispatch(clearWallets());

// 3๏ธโฃ AsyncStorage ุฃุฎูุฑุงู
await AsyncStorage.removeItem("authToken");
await AsyncStorage.removeItem("userType");
```

**ููุงุฐุง ูุฐุง ุงูุชุฑุชูุจุ**
- ุฅุฐุง ูุดู ุญุฐู SecureStoreุ ูุฑูุฏ ุฅููุงู ูู ุดูุก ููุฑุงู
- ุฅุฐุง ูุฌุญ ุญุฐู SecureStoreุ ุจููุฉ ุงูุจูุงูุงุช ุฃูู ุฎุทูุฑุฉ

---

### 3. ุญูุงูุฉ ูู ุงููุฌูุงุช

#### Man-in-the-Middle (MITM):
- โ ุงูุจุตูุฉ ูุง ุชูุฑุณู ุนุจุฑ ุงูุดุจูุฉ
- โ ููุท UID ููุณุชุฎุฏู ูุฌูุจ ุงูุจูุงูุงุช ูู Firebase
- โ Firebase ูุณุชุฎุฏู HTTPS

#### Replay Attack:
- โ ูู ูุฑุฉ ูุชู ุทูุจ ุชุญูู ุฌุฏูุฏ ูู ุงูุจุตูุฉ
- โ ูุง ูุชู ุญูุธ ูุชูุฌุฉ ุงูุจุตูุฉ

#### Brute Force:
- โ iOS/Android ูููููู ุงูุจุตูุฉ ุจุนุฏ ูุญุงููุงุช ูุงุดูุฉ
- โ BiometricService ูุนุทู ุฑุณุงูุฉ ูุงุถุญุฉ: "ุชู ููู ุงูุจุตูุฉ"

---

### 4. ุฃูุถู ุงูููุงุฑุณุงุช ุงููุทุจูุฉ

โ **ูุง ุญูุธ ูููุงุช ูุฑูุฑ**: ููุท UID + userType
โ **ุญุฐู ุนูุฏ ุงูุฎุฑูุฌ**: ุฌููุน ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ
โ **ุชุญูู ูู ูู ูุฑุฉ**: ูุง trust ุจุฏูู biometric verification
โ **ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ**: ูุง ูุนูููุงุช ุญุณุงุณุฉ ูู ุงูุฃุฎุทุงุก
โ **Logging ูููุฏ**: ูุชุชุจุน ุงููุดุงูู ุจุฏูู ูุดู ุจูุงูุงุช
โ **Platform-specific**: ุฅุนุฏุงุฏุงุช ุฎุงุตุฉ ููู ููุตุฉ

---

## ๐ ููุฎุต ุงูุชุบููุฑุงุช

### ูุง ุชู ุฅุถุงูุชู โ

1. **BiometricService.js**:
   - โ ุฏุนู iOS ูุน `SECURE_STORE_OPTIONS`
   - โ `requireConfirmation: false` ูู Face ID ุฃุณุฑุน
   - โ ุฑุณุงุฆู ุฎุทุฃ ููุตูุฉ ุจุงูุนุฑุจูุฉ
   - โ Logging ุดุงูู
   - โ `disableBiometric()` ููุญุฐู ุนูุฏ ุงูุฎุฑูุฌ

2. **OtpBusinessScreen.js & OtpSingleScreen.js**:
   - โ ูุงูุฐุฉ ุทูุจ ุชูุนูู ุงูุจุตูุฉ ุจุนุฏ OTP
   - โ ุนุฏู ุทูุจ ุงูุจุตูุฉ ูููุณุชุฎุฏู ุงูุฐู ูุนูููุง ุณุงุจูุงู

3. **BusinessLoginScreen.js & SingleLoginScreen.js**:
   - โ ุญุฐู ูุงูุฐุฉ ุงูุจุตูุฉ ูู Login
   - โ ุงูุงุญุชูุงุธ ุจุฒุฑ "ุชุณุฌูู ุงูุฏุฎูู ุจุงูุจุตูุฉ"

4. **BusinessHomeScreen.js & SingleHomeScreen.js**:
   - โ ุญุฐู ุจูุงูุงุช ุงูุจุตูุฉ ุนูุฏ `handleLogout`
   - โ Logging ูุงุถุญ

5. **app.json**:
   - โ iOS permissions ู plugin configs
   - โ Android permissions

---

### ูุง ุชู ุญุฐูู โ

1. **ูู Login Screens**:
   - โ BiometricPromptDialog
   - โ ุฏูุงู `handleEnableBiometric` ู `handleRejectBiometric`
   - โ State ููุจุตูุฉ

---

## ๐ฏ ุงูุชูุตูุงุช ุงูููุงุฆูุฉ

### ูููุทูุฑูู:

1. โ **ุงุฎุชุจุฑ ุนูู iOS Simulator ู Android Emulator** ูุจู ุงูุฌูุงุฒ ุงูุญูููู
2. โ **ุฑุงูุจ Console Logs** ูููู ุณูุฑ ุงูุนูููุงุช
3. โ **ุงุฎุชุจุฑ ุณููุงุฑูู Logout** ููุชุฃูุฏ ูู ุญุฐู ุงูุจูุงูุงุช
4. โ **ูุง ุชููู ูู ุฑุณุงุฆู Face ID ุงูุฅูุฌููุฒูุฉ** - ูุฐุง ุทุจูุนู!
5. โ **ุงุณุชุฎุฏู React Native Debugger** ููุญุต SecureStore

---

### ูููุณุชุฎุฏููู:

1. โ **ุงูุจุตูุฉ ุขููุฉ ุชูุงูุงู** - ูุง ูุชู ุฅุฑุณุงููุง ุนุจุฑ ุงูุฅูุชุฑูุช
2. โ **ุฑุณุงุฆู Face ID ุจุงูุฅูุฌููุฒูุฉ ุทุจูุนูุฉ** - ุฌููุน ุงูุชุทุจููุงุช ูุฐูู
3. โ **ุจุนุฏ ุงูุฎุฑูุฌุ ูุฌุจ ุชูุนูู ุงูุจุตูุฉ ูุฑุฉ ุฃุฎุฑู** - ููุฃูุงู
4. โ **ุฅุฐุง ูุณูุช ุงูุจุตูุฉุ ุงุณุชุฎุฏู OTP** - ุฏุงุฆูุงู ูุชุงุญ

---

## ๐ ูููุงุช ุงูุชูุซูู ุงูุฃุฎุฑู

- [BIOMETRIC_iOS_FIX.md](./BIOMETRIC_iOS_FIX.md) - ุชูุงุตูู ุฅุตูุงุญุงุช iOS
- [iOS_TESTING_GUIDE.md](./iOS_TESTING_GUIDE.md) - ุฏููู ุงุฎุชุจุงุฑ iOS ุณุฑูุน
- [iOS_FIX_SUMMARY.md](./iOS_FIX_SUMMARY.md) - ููุฎุต ุดุงูู ูุฅุตูุงุญุงุช iOS
- [FACEID_ARABIC_SOLUTION.md](./FACEID_ARABIC_SOLUTION.md) - ุญู ูุดููุฉ ุชุนุฑูุจ Face ID

---

## โ ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ

### ุณ: ูู ูููู ุชุนุฑูุจ ุฑุณุงุฆู Face IDุ
**ุฌ**: ูุงุ Apple ูุง ุชุณูุญ ุจุฐูู. ุฌููุน ุงูุชุทุจููุงุช (ุญุชู ุงูุจููู ุงูุณุนูุฏูุฉ) ุชุณุชุฎุฏู Face ID ุจุงูุฅูุฌููุฒูุฉ.

### ุณ: ููุงุฐุง ูุทูุจ ุงูุจุตูุฉ ุจุนุฏ OTP ูููุณ ูู Loginุ
**ุฌ**: ูุฃู ุงููุณุชุฎุฏู ุงูุฌุฏูุฏ ูุฌุจ ุฃู ูุชุญูู ูู ุฑูู ุงูุฌูุงู ุฃููุงู (OTP) ูุจู ุฑุจุท ุงูุจุตูุฉ ุจุญุณุงุจู.

### ุณ: ูุงุฐุง ูุญุฏุซ ุฅุฐุง ุบููุฑุช ุจุตูุชู ูู ุงูุฌูุงุฒุ
**ุฌ**: ุณุชุญุชุงุฌ ุฅูู ุชุณุฌูู ุงูุฏุฎูู ุจู OTP ูุฑุฉ ุฃุฎุฑู ูุฅุนุงุฏุฉ ุชูุนูู ุงูุจุตูุฉ.

### ุณ: ูู ุจูุงูุงุชู ุขููุฉ ูู SecureStoreุ
**ุฌ**: ูุนูุ SecureStore ูุณุชุฎุฏู iOS Keychain ู Android Keystore - ุฃุนูู ูุณุชูู ูู ุงูุชุดููุฑ.

### ุณ: ููุงุฐุง ุจุนุฏ Logout ูุง ูููููู ุงูุฏุฎูู ุจุงูุจุตูุฉุ
**ุฌ**: ููุฃูุงู! ุนูุฏ ุงูุฎุฑูุฌุ ูุชู ุญุฐู ุฌููุน ุงูุจูุงูุงุช ุงููุญููุธุฉ. ูุฌุจ ุฅุนุงุฏุฉ ุชูุนูู ุงูุจุตูุฉ.

### ุณ: ูู ูููู ุงุณุชุฎุฏุงู ุงูุจุตูุฉ ูุน ุฃูุซุฑ ูู ุญุณุงุจุ
**ุฌ**: ูุนูุ ูู ุญุณุงุจ ููุญูุธ ุจู UID ูููุตู ูู SecureStore.

---

## ๐ ุงูุฎูุงุตุฉ

**ูุธุงู ุงูุจุตูุฉ ูุนูู ุจุดูู ููุชุงุฒ ุนูู iOS ู Android!** โ

**ุงูููุฒุงุช**:
- โก ุณุฑูุน (ุฃูู ูู 3 ุซูุงูู)
- ๐ ุขูู (ุชุดููุฑ AES-256)
- ๐ ูุชุฑุฌู ุจุงููุงูู (ูุง ุนุฏุง ุฑุณุงุฆู Face ID - ุทุจูุนู)
- ๐งน ููุธู ุงูุจูุงูุงุช ุนูุฏ ุงูุฎุฑูุฌ
- ๐ฏ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ููุชุงุฒุฉ

**ุงููุฑู ุงููุญูุฏ**:
- Android: ูู ุดูุก ุจุงูุนุฑุจูุฉ โ
- iOS: Face ID ุจุงูุฅูุฌููุฒูุฉ โ (ุทุจูุนู ูููุจูู)

**ูุฐุง ููุณ ุฎุทุฃู - ูุฐุง ุชุตููู iOS!** ๐

---

**ุชุงุฑูุฎ ุงูุชูุซูู**: 2024-12-06
**ุงูุฅุตุฏุงุฑ**: 1.0.0
**ุงูุญุงูุฉ**: ููุชูู โ
**ุงููุทูุฑ**: Absher Pay Team

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุชู ุฃู ูุดููุฉ:
1. ุฑุงุฌุน ูุณู [ุญู ุงููุดุงูู](#ุญู-ุงููุดุงูู)
2. ุชุญูู ูู Console Logs
3. ุงุณุชุฎุฏู React Native Debugger
4. ุฑุงุฌุน [ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ](#ุงูุฃุณุฆูุฉ-ุงูุดุงุฆุนุฉ)

---

**ุดูุฑุงู ูุงุณุชุฎุฏุงูู Absher Pay!** ๐
